{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,QACjCC,EAAM,sBACNC,EAAmBN,EAAAO,UAAW,SAACC,G,OAAUC,aAAaC,QAAQL,EAAKM,KAAKC,UAAUJ,MAAS,KAE3FK,EAAQ,CAACC,MAAM,GAAIC,QAAS,KA0BlC,WACI,IAAMC,EAAeL,KAAKM,MAAMR,aAAaS,QAAQb,IACrD,IAAIW,EACA,OAEJd,EAAQ,GAAGiB,MAAQH,EAAaF,MAChCZ,EAAQ,GAAGiB,MAAQH,EAAaD,QA9BpCK,GAEAlB,EAAQmB,iBAAiB,SAAS,SAAAC,GACL,UAAtBA,EAAMC,OAAOC,OACZC,QAAQC,IAAI,WAAYJ,EAAMC,OAAOJ,OACrCN,EAAMC,MAAQQ,EAAMC,OAAOJ,OAEN,YAAtBG,EAAMC,OAAOC,OACZC,QAAQC,IAAI,aAAcJ,EAAMC,OAAOJ,OACvCN,EAAME,QAAUO,EAAMC,OAAOJ,OAEjCb,EAAiBO,MAIrBX,EAAQmB,iBAAiB,UAAU,SAAAC,GAC/BA,EAAMK,iBACN,IAAMC,EAAoBjB,KAAKM,MAAMR,aAAaS,QAAQb,IAC1DoB,QAAQC,IAAIE,GACZ1B,EAAQ,GAAGiB,MAAQ,GACnBjB,EAAQ,GAAGiB,MAAQ,GACnBV,aAAaoB,WAAWxB,M","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\n\nconst formRef = document.querySelector('form');\nconst key = 'feedback-form-state';\nconst saveCurrentState = _.throttle((state) => localStorage.setItem(key, JSON.stringify(state)), 1000);\n\nconst state = {email:'', message: ''};\n\nloadState();\n\nformRef.addEventListener('input', event => {\n    if(event.target.name === 'email'){\n        console.log('email = ', event.target.value)\n        state.email = event.target.value;\n    }\n    if(event.target.name === 'message'){\n        console.log('message = ', event.target.value);\n        state.message = event.target.value;\n    }\n    saveCurrentState(state);\n});\n\n\nformRef.addEventListener('submit', event => {\n    event.preventDefault();\n    const stateBeforeRemove = JSON.parse(localStorage.getItem(key));\n    console.log(stateBeforeRemove);\n    formRef[0].value = '';\n    formRef[1].value = '';\n    localStorage.removeItem(key);\n})\n\nfunction loadState(){\n    const currentState = JSON.parse(localStorage.getItem(key));\n    if(!currentState){\n        return;\n    }\n    formRef[0].value = currentState.email;\n    formRef[1].value = currentState.message;\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formRef","document","querySelector","$b00c40859be242c5$var$key","$b00c40859be242c5$var$saveCurrentState","throttle","state1","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$state","email","message","currentState","parse","getItem","value","$b00c40859be242c5$var$loadState","addEventListener","event","target","name","console","log","preventDefault","stateBeforeRemove","removeItem"],"version":3,"file":"03-feedback.c39e4f49.js.map"}