{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,QAEjCC,EAAmBL,EAAAM,UAAYC,GAAUC,aAAaC,QADhD,sBAC6DC,KAAKC,UAAUJ,KAAS,KAE3FK,EAAQ,CAACC,MAAM,GAAIC,QAAS,KA0BlC,WACI,MAAMC,EAAeL,KAAKM,MAAMR,aAAaS,QA9BrC,wBA+BR,IAAIF,EACA,OAEJb,EAAQ,GAAGgB,MAAQN,EAAMC,MAAQE,EAAaF,MAC9CX,EAAQ,GAAGgB,MAAQN,EAAME,QAAUC,EAAaD,QA9BpDK,GAEAjB,EAAQkB,iBAAiB,SAASC,IACL,UAAtBA,EAAMC,OAAOC,OACZC,QAAQC,IAAI,WAAYJ,EAAMC,OAAOJ,OACrCN,EAAMC,MAAQQ,EAAMC,OAAOJ,OAEN,YAAtBG,EAAMC,OAAOC,OACZC,QAAQC,IAAI,aAAcJ,EAAMC,OAAOJ,OACvCN,EAAME,QAAUO,EAAMC,OAAOJ,OAEjCb,EAAiBO,MAIrBV,EAAQkB,iBAAiB,UAAUC,IAC/BA,EAAMK,iBACN,MAAMC,EAAoBjB,KAAKM,MAAMR,aAAaS,QAtB1C,wBAuBRO,QAAQC,IAAIE,GACZzB,EAAQ,GAAGgB,MAAQ,GACnBhB,EAAQ,GAAGgB,MAAQ,GACnBV,aAAaoB,WA1BL","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\n\nconst formRef = document.querySelector('form');\nconst key = 'feedback-form-state';\nconst saveCurrentState = _.throttle((state) => localStorage.setItem(key, JSON.stringify(state)), 1000);\n\nconst state = {email:'', message: ''};\n\nloadState();\n\nformRef.addEventListener('input', event => {\n    if(event.target.name === 'email'){\n        console.log('email = ', event.target.value);\n        state.email = event.target.value;\n    }\n    if(event.target.name === 'message'){\n        console.log('message = ', event.target.value);\n        state.message = event.target.value;\n    }\n    saveCurrentState(state);\n});\n\n\nformRef.addEventListener('submit', event => {\n    event.preventDefault();\n    const stateBeforeRemove = JSON.parse(localStorage.getItem(key));\n    console.log(stateBeforeRemove);\n    formRef[0].value = '';\n    formRef[1].value = '';\n    localStorage.removeItem(key);\n})\n\nfunction loadState(){\n    const currentState = JSON.parse(localStorage.getItem(key));\n    if(!currentState){\n        return;\n    }\n    formRef[0].value = state.email = currentState.email;\n    formRef[1].value = state.message = currentState.message;\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formRef","document","querySelector","$945622fd0f572e60$var$saveCurrentState","throttle","state1","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$state","email","message","currentState","parse","getItem","value","$945622fd0f572e60$var$loadState","addEventListener","event","target","name","console","log","preventDefault","stateBeforeRemove","removeItem"],"version":3,"file":"03-feedback.c8ddb08e.js.map"}